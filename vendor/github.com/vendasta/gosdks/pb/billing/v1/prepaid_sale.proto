syntax = "proto3";

package billing.v1;

import "google/protobuf/timestamp.proto";
import "billing/v1/field_mask.proto";

message Lifespan {
    // The start of the lifespan
    google.protobuf.Timestamp start = 1;
    // The end of the lifespan
    google.protobuf.Timestamp end = 2;
}

message PrepaidSale {
    // The unique id of the merchant
    string merchant_id = 1;
    // The unique stock keeping unit of the product
    string sku = 2;
    // The unique identifier of the prepaid sale
    int64 id = 3;
    // The time the prepaid sale is created
    google.protobuf.Timestamp created = 4;
    // The quantity of products included
    int64 quantity = 5;
    // The total price in cents
    int64 total_price = 6;
    // The lifespan of the prepaid sale
    Lifespan lifespan = 7;
}

message ListPrepaidSalesRequest {
    // The unique id of the merchant
    string merchant_id = 1;
    // The unique stock keeping unit of the product
    string sku = 2;
}

message ListPrepaidSalesResponse {
    // The prepaid sales
    repeated PrepaidSale prepaid_sales = 1;
}

message CreatePrepaidSaleRequest {
    // The unique id of the merchant
    string merchant_id = 1;
    // The unique stock keeping unit of the product
    string sku = 2;
    // The quantity of products included
    int64 quantity = 3;
    // The total price in cents
    int64 total_price = 4;
    // The lifespan of the prepaid sale
    Lifespan lifespan = 5;
}

message UpdatePrepaidSaleRequest {
    // The unique id of the merchant
    string merchant_id = 1;
    // The unique stock keeping unit of the product
    string sku = 2;
    // The unique identifier of the prepaid sale
    int64 id = 3;
    // The quantity of products included
    int64 quantity = 4;
    // The total price in cents
    int64 total_price = 5;
    // The lifespan of the prepaid sale
    Lifespan lifespan = 6;
    // Mask for what fields should be updated
    FieldMask field_mask = 7;
}

message DeletePrepaidSaleRequest {
    // The unique id of the merchant
    string merchant_id = 1;
    // The unique stock keeping unit of the product
    string sku = 2;
    // The unique identifier of the prepaid sale
    int64 id = 3;
}
