syntax = "proto3";

package billing.v1;

import "google/protobuf/timestamp.proto";

message LineItem {
    // The identifier of what products/subscription this lineitem refers to. Does not conform to the SKU standard
    string sku = 1;
    // How much each item cost (in cents)
    int64 unit_price = 2;
    // The number of items purchased
    int64 quantity = 3;
    // The name or human readable description of what is being purchased
    string description = 4;
    // UnitPrice * Quantity
    int64 total = 5;
}

message Invoice {
    enum Status {
        DRAFT = 0;
        DUE = 1;
        OVERDUE = 2;
        PAID = 3;
    }
    // Identifier for the invoice
    int64 invoice_id = 1;
    // Identifier for the merchant
    string merchant_id = 2;
    // Status of the invoice
    Status status = 3;
    // Total amount of the invoice (in cents)
    int64 total = 4;
    // Amount paid on the invoice (in cents)
    int64 paid = 5;
    // Start date of the invoice period
    google.protobuf.Timestamp period_start = 6;
    // End date of the invoice period
    google.protobuf.Timestamp period_end = 7;
    // Due date of the invoice
    google.protobuf.Timestamp due = 8;
    // The grace period (in days) from the period_end for this invoice to be paid
    int64 terms = 9;
    // Created date of the invoice
    google.protobuf.Timestamp created = 10;
    // Last updated date of the invoice
    google.protobuf.Timestamp updated = 11;
    // The line items of the invoice
    repeated LineItem line_items = 12;
    // The posted date of the invoice
    google.protobuf.Timestamp posted = 13;
    // The currency that this invoice is in
    Currency currency = 14;
}

enum Currency {
    USD = 0;
    CAD = 1;
    EUR = 2;
    AUD = 3;
    GBP = 4;
    NZD = 5;
}
