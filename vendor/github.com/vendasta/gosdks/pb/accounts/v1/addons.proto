syntax = "proto3";

package accounts.v1;

option java_package = "com.vendasta.accounts.v1";
option java_outer_classname = "AddonActivationProtos";

import "google/protobuf/timestamp.proto";
import "accounts/v1/blame.proto";

// AddonActivation is a representation of a addon activation in the Vendasta platform.
// An activation exists in two states, an "active" state where it is available to
// the purchaser, or a "deactivated" state where it's deactivated time is in the past.
// Once an addon is deactivated, it is immutable moving forward.
message AddonActivation {
    // A prerequisite ID representing the customer/business.
    string business_id = 1;
    // A prerequisite marketplace vendor's ID's of the app the addons belong to.
    string app_id = 2;
    // A prerequisite marketplace vendor's ID's of the addon activated.
    string addon_id = 3;
    // An ID assigned uniquely to this addon upon being activated.
    string activation_id = 4;
    // UTC time the addon was activated.
    google.protobuf.Timestamp activated = 5;
    // UTC time the addon was or will be deactivated, if ever.
    google.protobuf.Timestamp deactivated = 6;
    // The order form submission id, unique per activation.
    string order_form_submission_id = 7;
    // Metadata and source for the activation event
    Blame activation_info = 8;
    // Metadata and source for the deactivation event
    Blame deactivation_info = 9;
}
