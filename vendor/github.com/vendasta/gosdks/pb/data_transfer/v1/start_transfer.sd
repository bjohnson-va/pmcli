title Data Transfer

participant Client
participant DataTransfer µs
participant vstore
participant PubSub
participant Web
participant GCS

Client->+DataTransfer µs: StartTransfer(url, bucket, filename)
DataTransfer µs->+vstore: Save()
deactivate DataTransfer µs
vstore->+PubSub: Publish()
deactivate vstore
PubSub-->+DataTransfer µs: pubsub callback
deactivate PubSub
DataTransfer µs->+Web: Get(url)
Web-->DataTransfer µs: payload
deactivate Web
DataTransfer µs->+GCS: Upload(bucket, filename, payload)
deactivate DataTransfer µs
GCS->PubSub: Publish(topic)
deactivate GCS
