syntax = "proto3";

import "google/protobuf/timestamp.proto";

package advertising.v1;

// Represents the states a campaign could exist in
message CampaignStatus {
  enum Status {
    ORDER_RECEIVED = 0;
    WAITING_ON_CUSTOMER = 1;
    BUILDING = 2;
    LIVE = 3;
    COMPLETED = 4;
  }
}

// Represents a campaign
message Campaign {
  string campaign_id = 1;
  string business_id = 2;
  CampaignStatus.Status status = 3;
  google.protobuf.Timestamp order_date = 4;
  google.protobuf.Timestamp start_date = 5;
  google.protobuf.Timestamp end_date = 6;
}

// Get a campaign by id
message CampaignGetRequest {
    string campaign_id = 1;
}

// Returns a campaign
message CampaignGetResponse {
    Campaign campaign = 1;
}

// Get all campaigns for a business
message CampaignListRequest {
    string business_id = 1;
    // Options for how to page the response for this request
    PagedRequestOptions paging_options = 2;
}

// List of campaigns
message CampaignListResponse {
    repeated Campaign campaigns = 1;
    // Metadata about the paging
    PagedResponseMetadata paging_metadata = 2;
}

// Get all campaigns for given campaign ids
message CampaignGetMultiRequest {
    repeated string  campaign_ids = 1;
}

// Returns a list of campaigns
message CampaignGetMultiResponse {
    repeated Campaign  campaigns = 1;
}

// Cursor and has more flag for paging response
message PagedResponseMetadata {
    // A cursor that can be provided to retrieve the next page of results
    string next_cursor = 1;
    // Whether or not more results exist
    bool has_more = 2;
}

// Cursor and page size for paging request
message PagedRequestOptions {
    // cursor can be passed to retrieve the next page of results keyed by the cursor
    string cursor = 1;
    // page_size specifies the number of items to return in the next page
    int64 page_size = 2;
}