syntax = "proto3";

package heimdall.v1;

import "google/protobuf/timestamp.proto";

enum HTTPMethod {
    GET = 0;
    HEAD = 1;
    POST = 2;
    PUT = 3;
    DELETE = 4;
    CONNECT = 5;
    OPTIONS = 6;
    PATCH = 7;
}

message RPCLog {
    // The RPC or endpoint being called
    string request_path = 1;
    // The host of the RPC or endpoint being called
    string request_host = 2;
    // The http method being used to call the request_path
    HTTPMethod http_method = 3;
    // The http status of the response of the call
    int64 http_status = 4;
    // The project calling the rpc
    string project = 5;
    // The environment of the project
    string environment = 6;
    // The deployment id of the project
    string deployment_id = 7;
    // When the request was made
    google.protobuf.Timestamp start_time = 8;
    // How long until the response was recieved in milliseconds
    int64 duration_millis = 9;
    // How large the response was in bytes
    int64 response_size = 10;
    // The source of the invoked request, i.e. The current page
    string source_path = 11;
    // Optional: The full response body of the request
    string response_body = 12;
}
