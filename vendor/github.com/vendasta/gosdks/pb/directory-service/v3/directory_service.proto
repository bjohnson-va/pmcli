//version:  3.1.0
// Added a listing search method
syntax = "proto3";

package vendasta.listingsproto;

import "listing.proto";
import "review.proto";
import "google/api/annotations.proto";
import "google/protobuf/empty.proto";

service ListingService {
	rpc Put(Listing) returns (Listing){
        option (google.api.http) = {
            post: "/v1/listing/put"
            body: "*"
        };
    }
	rpc Get(GetListingRequest) returns (Listing){
        option (google.api.http) = {
            post: "/v1/listing/get"
            body: "*"
        };
    }
	rpc Delete(DeleteListingRequest) returns (google.protobuf.Empty){
        option (google.api.http) = {
            post: "/v1/listing/delete"
            body: "*"
        };
    }
	rpc GetStats(google.protobuf.Empty) returns (Stats) {
        option (google.api.http) = {
            post: "/v1/listing/stats"
            body: "*"
        };
    }
    rpc Search(SearchListingRequest) returns (SearchListingResponse) {
        option (google.api.http) = {
            post: "/v1/listing/search"
            body: "*"
        };
    }
}

service ReviewService {
	rpc Put(Review) returns (Review){
        option (google.api.http) = {
            post: "/v1/review/put"
            body: "*"
        };
    }
	rpc Get(GetReviewRequest) returns (Review){
        option (google.api.http) = {
            post: "/v1/review/get"
            body: "*"
        };
    }
	rpc Delete(DeleteReviewRequest) returns (google.protobuf.Empty){
        option (google.api.http) = {
            post: "/v1/review/delete"
            body: "*"
        };
    }
	rpc List(ListReviewsRequest) returns (ListReviewsResponse){
        option (google.api.http) = {
            post: "/v1/review/list"
            body: "*"
        };
    }
}
